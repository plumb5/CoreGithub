@{
    ViewBag.Title = "FacebookContacts";
    Layout = "~/Views/Shared/PlumbAccountMaster.cshtml";
}

<link href="~/Content/select2/css/select2.min.css" rel="stylesheet" />
<section class="sheet">
    <div class="pageheader">
        <div class="contentHead">
            <h6 class="pagetitle">Manage Contacts</h6>
            <small class="totalCountTitle">Total Contacts: <span id="spnCount">00</span></small>
        </div>
        <ol class="breadcrumb slim-breadcrumb">
            <li class="breadcrumb-item"><a href="javasctipt:void(0);">Contacts</a></li>
            <li class="breadcrumb-item active" aria-current="page">Manage Contacts</li>
        </ol>
    </div>

    <div class="boxactionWrap mr-tp-15 border-top">
        <div class="actionWrap">
            <div class="actionBtnWrap">
                <div class="dropdown">
                    <button class="btn-action dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Action
                    </button>
                    <div class="dropdown-menu mcontactsaction" aria-labelledby="dropdownMenuButton">
                        <a id="addremovegroupslist" class="dropdown-item ContributePermission" href="javascript:void(0)" data-toggle="modal" onclick="facebookContactUtil.openGroup();">Add remove group</a>
                        <a class="dropdown-item ContributePermission" href="javascript:void(0)" data-toggle="modal" onclick="facebookContactUtil.openUnsubcribePopUp();"> Unsubscribe</a>
                        <a class="dropdown-item ContributePermission" href="javascript:void(0)" data-toggle="modal" onclick="facebookContactUtil.openInvalidatePopUp();">Invalidate</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="searchWrap">
            <div class="searchInput">
                <input class="form-control form-control-sm contsearchfocus" type="text" name="" placeholder="Search EmailId" id="e_input">
                <div class="searchIcon">
                    <i class="icon ion-android-search"></i>
                </div>
            </div>
            <div class="filterWrap dropdown">
                <i class="icon ion-android-funnel" title="Filter By" id="filterbycontacts"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="filterbycontacts">
                    <a class="dropdown-item contfiltby" href="javascript:facebookContactUtil.filterBy('Email')">Email Id</a>
                    <a class="dropdown-item contfiltby" href="javascript:facebookContactUtil.filterBy('Phone')">Phone Number</a>
                    <a class="dropdown-item" href="javascript:facebookContactUtil.filterBy('Name')">Name</a>
                    <a class="dropdown-item" href="javascript:facebookContactUtil.filterBy('PageName')">Page Name</a>
                </div>
            </div>
        </div>
    </div>
    <div class="subdivWrap border-top-0">
        <div class="selectedItemWrap">
            <div class="checkBxCount">
                <span class="checkedCount">0</span> Contacts selected
            </div>
            &nbsp;&nbsp;
            <label id="bindsel"></label>
        </div>
    </div>
    <div id="ui_divReportSummary" class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <div class="box-white border-top-0">
                <div class="tableWrapper">
                    <div class="table-responsive">
                        <table id="ui_tblReportData" class="table manageContacts">
                            <thead>
                                <tr>
                                    <th class="td-wid-5 m-p-w-40" scope="col">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input selchbxall" id="contacts_check" name="example1">
                                            <label class="custom-control-label" for="contacts_check"></label>
                                        </div>
                                    </th>
                                    <th scope="col" class="helpIcon m-p-w-220 td-wid-20">
                                        Name <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                    <th class="helpIcon m-p-w-190 td-wid-20" scope="col">
                                        Page Name <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                    <th class="helpIcon m-p-w-190 td-wid-20" scope="col">
                                        Email <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                    <th class="helpIcon m-p-w-190 td-wid-15" scope="col">
                                        Phone Number <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                    <th class="helpIcon m-p-w-160 td-wid-9" scope="col">
                                         Verified <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                    <th class="helpIcon m-p-w-190 td-wid-17" scope="col">
                                        Created Date <i class="icon ion-ios-help-outline"></i>
                                        <div class="toottipWrap"></div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="ui_tbodyReportData"></tbody>

                        </table>
                    </div>
                </div>
                @{ Html.RenderPartial("_Paging"); }
            </div>
        </div>
    </div>

</section>

@{ Html.RenderPartial("_ContactUCP"); }


<!--Modal group operation confirm-->
<div class="modal fade bd-example-modal-sm" id="addremovegroup" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add and Remove from Group</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseAddRemovegrp">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="groupoperat">
                    <select id="addgroupoperation" class="form-control select2" data-placeholder="Choose Group"
                            multiple>
                    </select>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" id="addtogroup" class="btn btn-primary" data-dismiss="modal">
                    Save
                    Changes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnCancelAddRemovegrp">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!--Modal group operation confirm-->
<!--Modal Unsubscribe confirm-->
<div class="modal fade bd-example-modal-sm" id="confirmunsub" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Un-subcribe</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseUnsubscribe">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>
                    <span class="visitorsCount"></span> Selected Contacts will be Un-Subscribed from Mailing or SMS
                    Lists
                </p>
                <div class="listWrap">
                    <div class="custom-control custom-checkbox custom-control-inline">
                        <input type="checkbox" class="custom-control-input" id="email_list" name="maillistings">
                        <label class="custom-control-label" for="email_list">Email</label>
                    </div>
                    <div class="custom-control custom-checkbox custom-control-inline">
                        <input type="checkbox" class="custom-control-input" id="sms_list" name="maillistings">
                        <label class="custom-control-label" for="sms_list">SMS</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="unsubconts" class="btn btn-primary"
                        data-dismiss="modal">
                    Unsubscribe
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnCancelUnsubscribe">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!--Modal Unsubscribe confirm-->
<!--Modal Invalidate confirm-->
<div class="modal fade bd-example-modal-sm" id="confirmInvalidate" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Invalidate</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseInvalidate">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p><span class="visitorsCount"></span> Selected Contacts will be Invalidated.</p>

            </div>
            <div class="modal-footer">
                <button type="button" id="invalidateCont" class="btn btn-primary" data-dismiss="modal">
                    Invalidate
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnCancelUnsubscribe">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!--Modal Invalidate confirm-->
<script src="~/Content/select2/js/select2.full.min.js"></script>
<script src="~/js/FacebookPage/FacebookContacts.js"></script>